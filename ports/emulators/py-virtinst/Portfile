# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id $

PortSystem              1.0
PortGroup               python 1.0

name                    py-virtinst
version                 0.600.3
python.versions         27 32 33
categories              emulators python
platforms               darwin
license                 GPL-2+
maintainers             cal openmaintainer


description             Virt Install is a command line tool which provides an easy way to \
                        provision operating systems into virtual machines.
long_description        ${description} It also provides an API to the virt-manager \
                        application for its graphical VM creation wizard.
homepage                http://virt-manager.org/
master_sites            http://virt-manager.org/download/sources/virtinst/
distname                virtinst-${version}
checksums               rmd160  e6fedfaaf40bdbf29b18df5381efe875908d4149 \
                        sha256  e41efad3e3c798129af0cec92c1abd6c7e209b5dd4d311acdef0fc1a2daf5006

depends_lib-append      port:libvirt

if {${name} != ${subport}} {
    depends_lib-append  port:py${python.version}-urlgrabber
} else {
    livecheck.type      regex
    livecheck.url       ${master_sites}
    livecheck.regex     "virtinst-(\\d+(?:\\.\\d+)*)[quotemeta ${extract.suffix}]"
}
